groups:
  - name: IstioInfraRules
    rules:
      - alert: ZTunnelConnected
        expr: ztunnel_connected < 1
        for: 5m
        labels:
          severity: critical
        annotations:
          summary: "ZTunnel Connected Alert"
          description: '[Critical]: ztunnel is missing, likely other monitors are misleading, check installation logs'
      - alert: IstioCniInstallNotReady
        expr: istio_cni_install_ready < 1
        for: 5m
        labels:
          severity: critical
        annotations:
          summary: "Istio CNI Installation Not Ready Alert"
          description: '[Critical]: ingress CNI is missing, likely other monitors are misleading, check installation logs'
